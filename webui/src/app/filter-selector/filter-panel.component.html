<!-- Spinner animation -->
<spinner
         *ngIf="!this.reportService.report && !isReportFetchError"
         caption="Loading report..."
         class="col-lg-12 col-md-12 col-sm-12 col-xs-12 no-pad">
    {{filter}}
</spinner>
<!-- Error handling -->
<missing-report-error
                      *ngIf="isReportFetchError"
                      class="col-lg-12 col-md-12 col-sm-12 col-xs-12 no-pad">
</missing-report-error>
<!-- When everything works fine -->
<nav id="filterBar" *ngIf="this.reportService.report" class="filter-panel open col-lg-12 col-md-12 col-sm-12 col-xs-12 no-pad">


    <span class="col-lg-12 col-md-12 col-sm-12 col-xs-12 no-pad">
        <span class="navig-button col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <button [ngClass]="this.reportService.page == 'project-explorer' ? 'active' : '' " id="ProjectButton" class="project-button col-lg-5 col-md-5 col-sm-5 col-xs-10 no-pad"
                    [routerLink]="['./project-explorer']">
                Code
            </button>
            <button [ngClass]="this.reportService.page == 'error-explorer' ? 'active' : '' " id="ErrorButton" class="error-button col-lg-5 col-md-5 col-sm-5 col-xs-10 no-pad"
                    [routerLink]="['./error-explorer']">
                Messages
            </button>
        </span>
        <span class="hide-files col-lg-12 col-md-12 col-sm-12 col-xs-12 ">
            <input
                   #checkbox
                   type="checkbox"
                   id="hideFiles"
                   [ngModel]="reportService.hideFiles"
                   (click)="reportService.hideFiles = !reportService.hideFiles"/>
            <label class="" for="hideFiles">
                <span [ngClass]="reportService.hideFiles ? 'hideIt' : ''">Hide </span>
                <span [ngClass]="reportService.hideFiles ? '' : 'hideIt'">Show </span>
                files with no messages
            </label>
        </span>
        <!-- Button open/close filters -->
        <button id="chrevonButton" class="arrow-button open"
                (click)="openCloseFilterTab()">
            <i *ngIf="!filter_open" class="material-icons">chevron_right</i>
            <i *ngIf="filter_open" class="material-icons">chevron_left</i>
        </button>
        <span *ngIf="!filter_open" class="filter-span">My filter</span>
    </span>

    <!-- Show all the filters according to the report.json -->
    <template [ngIf]="(this.reportService.report.tools || this.reportService.report.rules || this.reportService.report.properties) | dshNotEmpty" class="col-lg-12 col-md-12 col-sm-12 col-xs-12 no-pad">
        <div class="option-selectors col-lg-12 col-md-12 col-sm-12 col-xs-12 no-pad">
            <filter-selector class="tool-selector" title="Tools"
                             *ngIf="this.reportService.report.tools | dshNotEmpty"
                             [options]="this.reportService.report.tools | dshMapValues"
                             (toggle)="onToolFilterToggle($event)">
            </filter-selector>
            <filter-selector
                             class="rule-selector" title="Categories"
                             *ngIf="this.reportService.report.rules | dshNotEmpty"
                             [options]="this.reportService.report.rules | dshMapValues"
                             (toggle)="onRuleFilterToggle($event)">
            </filter-selector>
            <filter-selector
                             class="property-selector" title="States"
                             *ngIf="this.reportService.report.properties | dshNotEmpty"
                             [options]="this.reportService.report.properties | dshMapValues"
                             (toggle)="onPropertyFilterToggle($event)">
            </filter-selector>
        </div>
    </template>
</nav>
